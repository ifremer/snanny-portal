<!doctype html>
<html lang="fr">

	<head>
		<link rel="stylesheet" href="css/ol.css" type="text/css">
		<link rel="stylesheet" href="css/sensornanny.css" type="text/css">
		<link rel="stylesheet" href="css/browser.css" type="text/css">
		<link rel="stylesheet" href="css/map.css" type="text/css">
		<link rel="stylesheet" href="css/timeline.css" type="text/css">
		<link rel="stylesheet" href="css/nv.d3.min.css" type="text/css">
		<link rel="stylesheet" href="css/envision.min.css" type="text/css">
		<!--link rel="stylesheet" href="css/jstree.min.css" type="text/css"-->

		
		
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="css/bootstrap.min.css">
		
		<!-- Optional theme -->
		<link rel="stylesheet" href="css/bootstrap-theme.min.css">
		<link rel="stylesheet" href="js/jstree/themes/default/style.css" type="text/css">
		<!--link rel="stylesheet" href="css/jstree-proton-style.min.css" type="text/css"-->
		
		<script src="js/jquery.min.js"></script>
		
		<script src="js/ol.js" charset="utf-8"></script>
		
        <script src="js/moment.min.js" charset="utf-8"></script>
		<script src="js/d3.v3.min.js" charset="utf-8"></script>
		<script src="js/nv.d3.min.js" charset="utf-8"></script>
		<script src="js/envision.min.js" charset="utf-8"></script>

		<title>SensorNanny</title>
	</head>
	
	<body>
		
		<div id="loading"><!-- Div loading--></div> 
		<!-- status -->
		<div id="timelineLoading" class="hidden">1</div>
		<div id="syntheticMapLoading" class="hidden">1</div>
		<div id="individualObsPointLoading" class="hidden">1</div>
		<div id="individualObsPointCount" class="hidden">1</div>

		<!-- Modal system description -->	
  		<div class="modal fade" id="systemDescriptionModal" role="dialog">

		    <div class="modal-dialog modal-lg">			
			      <div class="modal-content">
				        <div class="modal-header">
				          	<button type="button" class="close" data-dismiss="modal">&times;</button>
          				  	<h4 class="modal-title">System {name}</h4>
					</div>

			        	<div class="modal-body"> 						
						<div class="row">
							<div id="systemDescriptionModalleftcolumn" class="col-xs-6">
								<div id="description" style="height: 130px;">
									<div class="row"><div class="col-md-6">
										<!-- img from documentation where function = quicklook, otherwise default image -->
										<img src="images/grey_seal.png" style="height:120px;width:120px"></img>
									</div>
									<div class="col-md-6">
										<p>{description}</p>
									</div></div>
								</div>

								<div id="identifiers">
								<p>identifiers:</p>
								<table class="table table-striped">
									<!-- loop on identifiers -->
									<tr><td><a href="href="{identifier definition url}">{identifier name}</a></td><td>{identifier value}</td></tr>
									<tr><td><a href="href="{identifier definition url}">{identifier name}</a></td><td>{identifier value}</td></tr>
								</table>
								</div>
								<div id="classifiers">
								<p>other properties:</p>
								<table class="table table-striped">
									<!-- loop on classifiers -->
									<tr><td><a href="href="{classifiers definition url}">{classifiers name}</a></td><td>{classifiers value}</td></tr>
									<tr><td><a href="href="{classifiers definition url}">{classifiers name}</a></td><td>{classifiers value}</td></tr>
								</table>
								</div>
								<div id="ouputs">
								<p>outputs:
									<!-- loop on outputs -->
									<a href="href="{output definition url}">{output name}</a>,
									<a href="href="{output definition url}">{output name}</a>,
								</p>						
								</div>
								<div id="documents">
								<p>documents:
									<!-- loop on documentation -->
									<a href="href="{document url}">{document name}</a>,
									<a href="href="{document url}">{document name}</a>,
								</p>						
								</div>


							</div>
							<div id="systemDescriptionModalrightcolumn" class="col-xs-6">
								<div style="height: 130px;">
									<div class="col-md-6">
										<p>latitude: {latitude}<br/>
										longitude: {longitude}</p>
									</div>
									<div class="col-md-6">
										<div id="systemlocationmap"  style="height: 130px; width: 130px;" class="pull-right"></div>
									</div>
								</div>
								<div id="contacts">
								<p>contacts:</p>
								<table class="table table-striped">
									<!-- loop on contacts -->
									<tr><td><a href="href="{contacts role definition url}">{contact role}</a></td><td>{contact name,email...}</td></tr>
									<tr><td><a href="href="{contacts role definition url}">{contact role}</a></td><td>{contact name,email...}</td></tr>

								</table>
								</div>
								<div id="events">
								<p>events:</p>
								<table class="table table-striped">
									<!-- loop on events -->
									<tr><td>{event date/time}</td><td><a href="{event definition}">{event type}</a></td><td>{event desctiption}</td></tr>
									<tr><td>{event date/time}</td><td><a href="{event definition}">{event type}</a></td><td>{event desctiption}</td></tr>
								</table>
								</div>
								<div id="references">
								<p>model: <a href="href="{typeOf url}">{typeOf name}</a></p>
								<p>sub-components:
									<!-- loop on components -->
									<a href="href="{sub-components url}">{sub-component name}</a>,
									<a href="href="{sub-components url}">{sub-component name}</a>,
								</p>
								</div>
							</div>
						</div>									      
					</div>
        	    			<div class="modal-footer">					  
						<div class="row">
							<div  class="col-xs-6">
								<p class="text-muted" style="font-size:80%">
									<i>component {uuid} description valid from {valid start} to {valid stop}</i>
								</p>
							</div>
							<div  class="col-xs-6">
          		    					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
							</div>
						</div>					  
        	    			</div>
	      		    </div>
      		    </div>
      		</div>


		<div class="container-full">
		
			<div class="header">
				
				<nav class="navbar navbar-inverse navbar-fixed-top">
				      <div class="container-fluid">
				        <div class="navbar-header">
				          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				            <span class="sr-only">Toggle navigation</span>
				            <span class="icon-bar"></span>
				            <span class="icon-bar"></span>
				            <span class="icon-bar"></span>
				          </button>
				          <a class="navbar-brand" href="index.html">Sensor Nanny</a>
				        </div>				      
				        <div id="navbar" class="navbar-collapse collapse">
				          <ul class="nav navbar-nav navbar-right">
				            <li><a href="dashboard.html">Explore</a></li>
				            <li><a id="owncloud">My observations</a></li>
				            <li><a href="#">About</a></li>
				            <li class="logInfo hidden" id="signedUserContainer">
					            <span id="signedUser"></span>
								<img class="svg" src="images/caret.svg"/>
								<div id="expanddiv" class="logoutMenu hidden">
									<ul>
										<li><a id="logoutBtn">
											<img class="svg" src="images/logout.svg"/>
											Log out
										</a></li>
									</ul>
								</div> 
				            </li>
				            <li><a href="#" id="loginBtn">Sign in</a></li>
				          </ul>

				               <form class="navbar-form"  action="javascript:void(0);">
						        <div class="form-group" style="display:inline;">
						          <div class="input-group" style="display:table;">
						            <span class="input-group-addon" style="width:1%;"><span class="glyphicon glyphicon-search"></span></span>
						            <input class="form-control" name="search" id="searchInput" placeholder="Search.." autocomplete="off" autofocus="autofocus" type="text">
						          </div>
						        </div>
						      </form>
				        </div>
				      </div>
			    </nav>
			</div>
                
			<div class="row marketing">
				<div class="col-lg-9">
					<div id='timeline' class='ui-timeline'>
					 	<div id='zoomBtn'>
							<button class="zoomBtn" id="zoomIn" title="Zoom In">+</button>
							<button class="zoomBtn" id="zoomOut" title="Zoom Out">-</button>
						</div>
					</div>
					<div id="map" class="map"></div>
				</div>
				<div>
				<div id='observationsHeader' class='col-lg-3 well observations'></div>
	
				<div id='observationsBrowser' class='col-lg-3 well observations'>
				<div id='browserActions'>
					<button class="btnTree" onclick="$('#observations').jstree('open_all');" title="Expand All">+</button>
					<button class="btnTree" onclick="$('#observations').jstree('close_all');" title="Close All">-</button>
				</div>
				<div id='observations'></div>
				</div>

			</div>
						
			<div class="footer">
				<p>&copy; Ifremer 2015</p>
			</div>
		
		</div> 
		</div><!-- /container -->

		<script src="js/configuration.js" charset="utf-8"></script>
		<script src="js/menu.js" charset="utf-8"></script>
		<script src="js/map.js" charset="utf-8"></script>
		<script src="js/jstree/jstree.min.js" charset="utf-8"></script>
		<script src="js/timeline-zoomable.js" charset="utf-8"></script>
		<script src="js/modal.js" charset="utf-8"></script>
		<script src="js/browser.js" charset="utf-8"></script>
		<script src="js/geohash.js" charset="utf-8"></script>
		<script src="js/timehash.js" charset="utf-8"></script>
		<script src="js/searchbox.js" charset="utf-8"></script>
		<script src="js/cas.js" charset="utf-8"></script>		
		<script src="js/status.js" charset="utf-8"></script>

		<script type="text/javascript">
			loadObservationsCount(SNANNY_API + "/obs/synthetic/map", SNANNY_API + "/obs/synthetic/timeline");
		</script>
		
		<!-- Latest compiled and minified JavaScript -->
		<script src="js/bootstrap.min.js"></script>

</body>
</html>
